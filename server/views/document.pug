extends head.pug 
block head 
    title Document !{ecli}
    link(rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous")

block printpageinfo
    h6 !{ecli}

block headerinput
    h4(style="color: var(--color-white);") !{ecli}

block form
    -let using = []
    if source
        .d-block
            h4.d-inline #{source.Processo}
        mixin metadata(key, show)
            -using.push(key)
            if source[key]
                .d-flex.align-items-center.my-1(data-tribunal=source.Tribunal)
                    if show
                        b #{key}:&nbsp;
                    h5: a(href=`../?${key}=${source[key]}`) !{source[key]}
        for key in Object.keys(source)
            if key == "ECLI" || key == "Processo" || key == "Original URL" || key == "Descritores"
                continue
            else if key in aggs
                +metadata(key, true)
        .d-flex.flex-column.align-items-right.justify-content-between(data-tribunal=source.Tribunal)
            h6: b Descritores:
            .d-flex.flex-column
                for d in source.Descritores
                    a(href=`../?Descritores="${d}"`) !{d}
        .d-flex.align-items-center.my-2(data-tribunal=source.Tribunal)
            h6: a(href=source["Original URL"]).d-flex.align-items-center Original

block main
    if !source
        .alert.alert-info(role="alert")
            h4.alert-heading Sem resultados...
            strong 
                i.bi.bi-lightbulb-fill
                | Sugestões:
            ol
                li O recurso não foi encontrado ou ainda não foi publicado neste arquivo
    else
        for key of Object.keys(source)
            if !(key in aggs)
                .row.p-2(data-tribunal=source.Tribunal)
                    h4.col-12.pb-2.trib-spacer !{key}
                    | !{source[key]}
    style.
        .trib-spacer{
            position: relative;
        }
        .trib-spacer::before {
            content: '';
            background: var(--tribunal-color);
            position: absolute;
            border-radius: 10px;
            bottom: 0px;
            left: 10px;
            right: 10px;
            height: 5px;
        }
        [data-tribunal] a{
            color: var(--tribunal-color);
        }
        header h6 {
            color: var(--color-white)
        }
        @media print{
            header h6 {
                color: var(--color-black)
            }
            header {
                background: var(#fff)
            }
            .no-print{
                display: block;
            }

            .infofilters{
                display: block !important;
            }
        }